FROM jenkinsci/jenkins:lts

MAINTAINER Joost van der Griendt <joostvdg@gmail.com>
LABEL authors="Joost van der Griendt <joostvdg@gmail.com>"
LABEL version="1.3.0"
LABEL description="Docker container for Jenkins Masters For Flusso Drove'"

COPY executors.groovy /usr/share/jenkins/ref/init.groovy.d/executors.groovy
RUN echo 2.0 > /usr/share/jenkins/ref/jenkins.install.UpgradeWizard.state
ENV JENKINS_OPTS "$JENKINS_OPTS --prefix=/jenkins"

RUN /usr/local/bin/install-plugins.sh conditional-buildstep:1.3.5 publish-over-dropbox:1.1.2 workflow-support:2.14 diskcheck:0.26 build-keeper-plugin:1.3 scm-api:2.1.1 external-monitor-job:1.7 ssh-credentials:1.13 blueocean-rest-impl:1.0.1 authentication-tokens:1.3 hudson-wsclean-plugin:1.0.5 github:1.27.0 sse-gateway:1.15 mailer:1.20 pipeline-stage-tags-metadata:1.1.3 config-file-provider:2.15.7 resource-disposer:0.6 cloudbees-bitbucket-branch-source:2.1.2 pipeline-utility-steps:1.3.0 sonar:2.6.1 antisamy-markup-formatter:1.5 android-signing:2.2.1 maven-info:0.2.0 display-url-api:2.0 android-emulator:2.15 http_request:1.8.19 handlebars:1.1.1 async-http-client:1.7.24.1 blueocean-rest:1.0.1 git-client:2.4.2 subversion:2.7.2 pegdown-formatter:1.3 blueocean-personalization:1.0.1 docker-build-step:1.41 run-condition:1.0 blueocean-pipeline-api-impl:1.0.1 blueocean-jwt:1.0.1 ant:1.4 build-with-parameters:1.3 extra-tool-installers:0.3 nodejs:1.2.1 jobConfigHistory:2.16 nodenamecolumn:1.2 blueocean-commons:1.0.1 google-play-android-publisher:1.5 pipeline-input-step:2.7 golang:1.2 analysis-core:1.86 docker-custom-build-environment:1.6.5 gravatar:2.1 project-stats-plugin:0.4 violations:0.7.11 branch-api:2.0.8 pipeline-model-declarative-agent:1.1.1 ldap:1.14 swarm:3.4 parameterized-trigger:2.33 blueocean-dashboard:1.0.1 matrix-project:1.10 BlazeMeterJenkinsPlugin:2.7 oauth-credentials:0.3 blueocean-autofavorite:0.7 notification:1.11 pubsub-light:1.7 aws-credentials:1.19 port-allocator:1.8 pipeline-github-lib:1.0 translation:1.15 javadoc:1.4 blueocean-github-pipeline:1.0.1 blueocean-config:1.0.1 junit:1.20 mercurial:1.60 lockable-resources:2.0 job-parameter-summary:0.5 email-ext:2.57.2 jquery-detached:1.2.1 pipeline-model-api:1.1.3 ssh-slaves:1.17 workflow-cps:2.30 github-branch-source:2.0.5 mapdb-api:1.0.9.0 jquery:1.11.2-0 android-lint:2.4 docker-workflow:1.10 windows-slaves:1.3.1 maven-plugin:2.15.1 job-dsl:1.61 timestamper:1.8.8 variant:1.1 workflow-multibranch:2.14 stashNotifier:1.11.6 cvs:2.13 workflow-aggregator:2.5 momentjs:1.1.1 pipeline-milestone-step:1.3.1 build-environment:1.6 cloudbees-disk-usage-simple:0.5 build-name-setter:1.6.5 workflow-basic-steps:2.4 pipeline-build-step:2.5 blueocean-i18n:1.0.1 aws-java-sdk:1.11.119 workflow-api:2.13 cloudbees-folder:6.0.3 blueocean-display-url:2.0 pipeline-rest-api:2.6 project-description-setter:1.1 gogs-webhook:1.0.10 pipeline-stage-view:2.6 ec2:1.36 mask-passwords:2.10.1 git:3.3.0 slack:2.2 gradle:1.26 blueocean-web:1.0.1 github-pullrequest:0.1.0-rc22 github-api:1.85 jackson2-api:2.7.3 groovy:2.0 blueocean:1.0.1 workflow-cps-global-lib:2.8 hidden-parameter:0.0.4 credentials:2.1.13 embeddable-build-status:1.9 pipeline-model-definition:1.1.3 docker-commons:1.6 workflow-job:2.10 workflow-durable-task-step:2.11 bouncycastle-api:2.16.1 ws-cleanup:0.33 jenkinslint:0.8.0 blueocean-pipeline-editor:0.2.0 checkstyle:3.48 icon-shim:2.0.3 pipeline-aggregator-view:1.6 ssh-agent:1.15 workflow-scm-step:2.4 publish-over-ftp:1.12 git-server:1.7 build-monitor-plugin:1.11+build.201701152243 blueocean-events:1.0.1 build-pipeline-plugin:1.5.6 metrics:3.1.2.9 systemloadaverage-monitor:1.2 file-leak-detector:1.4 docker-build-publish:1.3.2 ssh:2.4 dependencyanalyzer:0.7 dashboard-view:2.9.10 token-macro:2.1 plain-credentials:1.4 pipeline-maven:2.1.0 node-iterator-api:1.5 docker-plugin:0.16.2 script-security:1.27 pipeline-model-extensions:1.1.3 durable-task:1.13 Exclusion:0.12 gitlab-plugin:1.4.5 rebuild:1.25 workflow-step-api:2.9 custom-tools-plugin:0.5 github-organization-folder:1.6 docker-traceability:1.2 workflow-remote-loader:1.4 nodelabelparameter:1.7.2 structs:1.6 logstash:1.2.0 publish-over-ssh:1.17 ci-game:1.26 google-oauth-plugin:0.4 built-on-column:1.1 favorite:2.0.4 dockerhub-notification:2.2.0 ace-editor:1.1 multiple-scms:0.6 build-timeout:1.18 jacoco:2.2.0 pipeline-graph-analysis:1.3 credentials-binding:1.11 PrioritySorter:3.5.0 copyartifact:1.38.1 ghprb:1.36.2 repository-connector:1.1.3 pipeline-stage-step:2.2 matrix-auth:1.5 nexus-artifact-uploader:2.9 blueocean-git-pipeline:1.0.1 extended-choice-parameter:0.76 pam-auth:1.3 percentage-du-node-column:0.1.0 m2-repo-reaper:1.0

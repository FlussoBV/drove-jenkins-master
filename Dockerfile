FROM jenkins/jenkins:2.73.3-slim

MAINTAINER Joost van der Griendt <joostvdg@gmail.com>
LABEL authors="Joost van der Griendt <joostvdg@gmail.com>"
LABEL version="2.73.3-1"
LABEL description="Docker container for Jenkins Master For Docker Swarm"

COPY executors.groovy /usr/share/jenkins/ref/init.groovy.d/executors.groovy

ENV JENKINS_OPTS "$JENKINS_OPTS --prefix=/jenkins"
ENV JAVA_OPTS "-Djenkins.install.runSetupWizard=false -server -XX:+AlwaysPreTouch"

RUN /usr/local/bin/install-plugins.sh ci-game:1.26 pipeline-model-api:1.1.9 git-client:2.5.0 job-parameter-summary:0.5 PrioritySorter:3.5.1 build-name-setter:1.6.7 analysis-core:1.91 docker-plugin:0.16.2 resource-disposer:0.6 git-server:1.7 junit:1.20 aws-credentials:1.21 blueocean-config:1.1.5 pipeline-stage-tags-metadata:1.1.9 pipeline-model-extensions:1.1.9 ec2:1.36 metrics:3.1.2.10 email-ext:2.58 workflow-basic-steps:2.6 built-on-column:1.1 workflow-step-api:2.12 nexus-artifact-uploader:2.9 build-pipeline-plugin:1.5.7.1 build-timeout:1.18 async-http-client:1.7.24.1 node-iterator-api:1.5 external-monitor-job:1.7 run-condition:1.0 blueocean-web:1.1.5 pipeline-model-definition:1.1.9 script-security:1.30 copyartifact:1.38.1 pipeline-model-declarative-agent:1.1.1 stashNotifier:1.11.6 pipeline-maven:2.5.2 cvs:2.13 job-dsl:1.64 description-setter:1.10 pipeline-build-step:2.5.1 pipeline-input-step:2.7 blueocean-git-pipeline:1.1.5 workflow-scm-step:2.6 android-emulator:2.15 parameterized-trigger:2.35.1 workflow-durable-task-step:2.13 oauth-credentials:0.3 docker-build-publish:1.3.2 workflow-aggregator:2.5 pubsub-light:1.12 htmlpublisher:1.14 dashboard-view:2.9.11 extra-tool-installers:0.3 jquery:1.11.2-0 systemloadaverage-monitor:1.2 gravatar:2.1 antisamy-markup-formatter:1.5 pipeline-milestone-step:1.3.1 Exclusion:0.12 conditional-buildstep:1.3.6 icon-shim:2.0.3 mapdb-api:1.0.9.0 android-signing:2.2.5 handlebars:1.1.1 credentials:2.1.14 jquery-detached:1.2.1 nodelabelparameter:1.7.2 maven-info:0.2.0 pipeline-stage-step:2.2 project-description-setter:1.1 pipeline-stage-view:2.8 lockable-resources:2.0 mask-passwords:2.10.1 pipeline-github-lib:1.0 build-keeper-plugin:1.3 mercurial:2.0 blueocean-personalization:1.1.5 cloudbees-bitbucket-branch-source:2.2.3 blueocean-jwt:1.1.5 translation:1.15 github-branch-source:2.2.3 workflow-remote-loader:1.4 percentage-du-node-column:0.1.0 nodejs:1.2.3 ssh-slaves:1.20 gradle:1.27.1 ghprb:1.39.0 docker-traceability:1.2 blueocean-pipeline-api-impl:1.1.5 pam-auth:1.3 pipeline-rest-api:2.8 docker-commons:1.8 project-stats-plugin:0.4 token-macro:2.1 android-lint:2.4 authentication-tokens:1.3 docker-build-step:1.43 jsch:0.1.54.1 junit-attachments:1.4.2 nodenamecolumn:1.2 ant:1.5 scm-api:2.2.0 maven-plugin:2.17 github-pullrequest:0.1.0-rc25 windows-slaves:1.3.1 blueocean-autofavorite:1.0.0 build-with-parameters:1.4 workflow-cps-global-lib:2.8 structs:1.9 blueocean-github-pipeline:1.1.5 workflow-cps:2.37 ace-editor:1.1 github-api:1.86 github:1.27.0 jobConfigHistory:2.16 blueocean-commons:1.1.5 favorite:2.3.0 port-allocator:1.8 ssh-agent:1.15 rebuild:1.25 google-oauth-plugin:0.5 hidden-parameter:0.0.4 hudson-wsclean-plugin:1.0.5 build-environment:1.6 google-play-android-publisher:1.5 slack:2.2 jacoco:2.2.1 matrix-auth:1.7 build-monitor-plugin:1.12+build.201704111018 checkstyle:3.49 dependencyanalyzer:0.7 cloudbees-folder:6.1.0 ssh-credentials:1.13 docker-custom-build-environment:1.6.5 diskcheck:0.30 golang:1.2 docker-workflow:1.12 gitlab-plugin:1.4.7 jackson2-api:2.7.3 blueocean-display-url:2.1.0 workflow-api:2.19 blueocean-events:1.1.5 embeddable-build-status:1.9 ldap:1.16 sse-gateway:1.15 aws-java-sdk:1.11.119 blueocean-rest:1.1.5 jenkinslint:0.10.0 matrix-project:1.11 pegdown-formatter:1.3 pipeline-utility-steps:1.3.0 extended-choice-parameter:0.76 custom-tools-plugin:0.5 publish-over-ssh:1.17 publish-over-ftp:1.12 subversion:2.9 multiple-scms:0.6 pipeline-graph-analysis:1.4 notification:1.12 repository-connector:1.1.3 credentials-binding:1.12 plain-credentials:1.4 momentjs:1.1.1 BlazeMeterJenkinsPlugin:2.8 cloudbees-disk-usage-simple:0.8 variant:1.1 file-leak-detector:1.4 blueocean-rest-impl:1.1.5 display-url-api:2.0 github-organization-folder:1.6 blueocean-pipeline-editor:0.2.0 branch-api:2.0.11 bouncycastle-api:2.16.2 timestamper:1.8.8 violations:0.7.11 git:3.5.0 config-file-provider:2.16.1 blueocean-dashboard:1.1.5 http_request:1.8.20 sonar:2.6.1 swarm:3.4 logstash:1.2.0 pipeline-aggregator-view:1.7 workflow-job:2.12.1 javadoc:1.4 dockerhub-notification:2.2.0 m2-repo-reaper:1.0 workflow-multibranch:2.16 ws-cleanup:0.34 groovy:2.0 blueocean-pipeline-scm-api:1.1.5 publish-over-dropbox:1.2.0 ssh:2.5 mailer:1.20 gogs-webhook:1.0.10 workflow-support:2.14 blueocean:1.1.5 blueocean-i18n:1.1.5 durable-task:1.14
